<!DOCTYPE html>
<html lang="en">
	<head>

		<title>Blog :: Endre Szabo</title>
		<base href="/"/>
		<link href="/blog/feed/index.xml" rel="alternate" type="application/rss+xml" title="Endre Szabo" />
		<link href="a/s.css" media="screen" rel="stylesheet" type="text/css">
		<link rel="preload" href="fonts/p0.woff2" as="font" crossorigin="anonymous" />
		<link rel="preload" href="fonts/p1.woff2" as="font" crossorigin="anonymous" />
		<link rel="preload" href="ss4r.woff" as="font" crossorigin="anonymous" />

		<link href="http://gmpg.org/xfn/11" rel="profile">
				<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
		<meta name="description" content="yet another tech blog with underdeveloped thoughts, quick and dirty tips and tricks, random ramblings">
		<meta name="keywords" content='' />
		<meta name="author" content="Endre Szabo">
 
		<meta property="og:title" content="Blog" />
		<meta property="og:description" content="yet another tech blog with underdeveloped thoughts, quick and dirty tips and tricks, random ramblings" />
		<meta property="og:type" content="website" />
		<meta property="og:locale" content="en_US" />
		<meta property="og:url" content="/blog.html" />
		<link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/manifest.json">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="theme-color" content="#fafafa">
		<link rel="shortcut icon" href="favicon.png">

		<meta name="generator" content="Hugo 0.75.1" />
	</head>
	<body>
		<header class="header-main">
			<div class="logo">
				<a title="Endre Szabo" href="/index.html">
					<img src="images/el.svg" alt="logo" width="90" class="logo-main"/>
				</a>
			</div>
			<div class="nav">
				<nav class="main-nav">
					<ul>
						<li><a href="/hu/">[Ugyanez magyarul]</a></li>
						<li><a href="/blog.html">Blog</a></li>
						<li><a href="/tutorial.html">Tutorials</a></li>
						<li><a href="/index.html">About</a></li>
					</ul>
				</nav>
				
			</div>
		</header>
		
		<main class="wrapper-main">
			<section class="wrapper-content">
				<h1 class="h1-title">Blog entries</h1>
				<div class="post-index">					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp040_defeating-checkpoint-route-all-traffic-enforcement.html">Defeating CheckPoint VPN Route-All-Traffic Policy Enforcement</a></h2>							
							<span class="a-meta">
								<a class="category-proof-of-concept" href="/categories/proof-of-concept/">Proof of Concept</a>
							</span>
							<span class="m-split">
								<a class="tag-firewall" href="/tags/firewall/">#firewall</a>, 
								<a class="tag-vpn" href="/tags/vpn/">#vpn</a>, 
								<a class="tag-hacks" href="/tags/hacks/">#hacks</a>
							</span>
							
							<time class="m-split" datetime='2018-09-06T08:08:29&#43;00:00' data-updated="true">Updated:
							Sep 6th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
							<a class="index-image" href="/blog/ebp040_defeating-checkpoint-route-all-traffic-enforcement.html">
								<img src="p/ebp040/tn_route-all-client-traffic.png" class="alignright" alt="Defeating CheckPoint VPN Route-All-Traffic Policy Enforcement"/>
							</a>
								<p>Quite a bit of the enterprises have chosen to use CheckPoint VPN solutions to allow remote access to their corporate networks. This platform is widely used and it&rsquo;s up to the security administrators to create the actual VPN security policies that apply to the connecting clients. Among these security rules, it&rsquo;s very common to enforce all of the client&rsquo;s traffic to go through the tunnel, be it destined to the corporate office or not, like Internet traffic that the corporation has nothing to with. There is even a knowledge base entry on how to set up to <a href="https://supportcenter.checkpoint.com/supportcenter/portal?eventSubmit_doGoviewsolutiondetails=&amp;solutionid=sk101239">Route all traffic from Remote Access clients, including internet traffic, through Security Gateway</a>. On the sad side effect, when these rules apply, it is also impossible to connect to the VPN client itself from the same subnet the client resides on. And this leads to being unable to do SSH reverse port forwards to access corporate resources from outside of this client. However, this would be really useful in my scenario, where the connecting client is a Windows VM on my ArchLinux host, and I&rsquo;d like to access over-the-tunnel corporate unix hosts using the friendly and very convenient to use OpenSSH <em>from</em> the ArchLinux host and not from the Windows VM using PuTTY or something legacy dumb clients like that.</p>
<p>Using a netfilter rule with a trick on the ArchLinux host I managed to make easy to use transparent reverse port forwardings that also &ldquo;complies&rdquo; with the security enforcement rules of the VPN client.</p>
								<a href="/blog/ebp040_defeating-checkpoint-route-all-traffic-enforcement.html" class="more-link">Read more &rarr;</a>
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp037_martian-source-or-destination-traffic-explained.html">Linux Kernel Martian Source Logs Explained</a></h2>							
							<span class="a-meta">
								<a class="category-proof-of-concept" href="/categories/proof-of-concept/">Proof of Concept</a>
							</span>
							<span class="m-split">
								<a class="tag-networking" href="/tags/networking/">#networking</a>, 
								<a class="tag-linux" href="/tags/linux/">#linux</a>
							</span>
							
							<time class="m-split" datetime='2018-06-11T21:20:35&#43;00:00' data-updated="true">Updated:
							Jun 11th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
								Quite a bit of our customers' IT guys happen to misinterpret the real meaning of the martian source traffic logs they see on their gateway hosts.
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp036_archzfs-repo-for-kernels.html">ArchZFS companion repo for dependent kernel versions</a></h2>							
							<span class="a-meta">
								<a class="category-proof-of-concept" href="/categories/proof-of-concept/">Proof of Concept</a>
							</span>
							<span class="m-split">
								<a class="tag-linux" href="/tags/linux/">#linux</a>, 
								<a class="tag-zfs" href="/tags/zfs/">#zfs</a>
							</span>
							
							<time class="m-split" datetime='2018-09-06T08:08:29&#43;00:00' data-updated="true">Updated:
							Sep 6th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
							<a class="index-image" href="/blog/ebp036_archzfs-repo-for-kernels.html">
								<img src="p/ebp036/archzfs.png" class="alignright" alt="ArchZFS companion repo for dependent kernel versions"/>
							</a>
								<p>As per the ArchZFS repository README: &lsquo;&lsquo;occasionally the OpenZFS project gets behind on stable support for the latest Linux Kernel release. This means that if Linux 4.15 is released to core, but the latest stable release of OpenZFS does not support Linux 4.15, it is not possible to perform a system update. Sometimes it can take a few days, a few weeks, or a month to release a new stable version of OpenZFS&rsquo;&rsquo;. Based on the good ol' Gentoo memories, you might think that the package manager of this ultramodern distribution surely can handle different kernel versions installed at the same time? Unfortunately, the implementation reality of <code>pacman</code>, the package manager of ArchLinux follows a different stereotype.</p>
<p>See my ArchZFS-compatible kernel packages repository that offers a solution for this problem.</p>
								<a href="/blog/ebp036_archzfs-repo-for-kernels.html" class="more-link">Read more &rarr;</a>
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp023_shipping-logs-to-logz.io-service.html">Shipping logs to the logz.io service</a></h2>							
							<span class="a-meta">
								<a class="category-tutorial" href="/categories/tutorial/">Tutorial</a>
							</span>
							<span class="m-split">
								<a class="tag-logging" href="/tags/logging/">#logging</a>
							</span>
							
							<time class="m-split" datetime='2018-06-13T07:24:22&#43;00:00' data-updated="true">Updated:
							Jun 13th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
							<a class="index-image" href="/blog/ebp023_shipping-logs-to-logz.io-service.html">
								<img src="p/ebp023/logzio-logo.png" class="alignright" style="width: 20%" alt="Shipping logs to the logz.io service"/>
							</a>
								<p>Some of you may have heard of <a href="https://logz.io/">Logz.io</a>, a yet-another-company that provides <em>ELK as a Service</em>. Their marketing is quite good, they have great newsletters, tutorials and webcasts, so I thought to myself to let&rsquo;s check &lsquo;em out. After registration you are taken to the wiki entry that lets you configure your gear to ship your logs logz.io ingest servers. While the wiki looks pretty comprehensive, they evidently missed out the good old Unix player here, <code>syslog-ng</code>. Seeing configuration guides for all these &ldquo;next-gen&rdquo;, &ldquo;cloud-native&rdquo;, &ldquo;serverless&rdquo; totally hyped piece of craps without mentioning <code>syslog-ng</code> at all I feel being kinda old school.</p>
<p>So this post is the missing manual on how to ship logs to logz.io using <code>syslog-ng</code>.</p>
								<a href="/blog/ebp023_shipping-logs-to-logz.io-service.html" class="more-link">Read more &rarr;</a>
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp005_the-pdnsapp-part1.html.html">The pdnsapp - part 1</a></h2>							
							<span class="a-meta">
								<a class="category-proof-of-concept" href="/categories/proof-of-concept/">Proof of Concept</a>
							</span>
							<span class="m-split">
								<a class="tag-dns" href="/tags/dns/">#dns</a>
							</span>
							
							<time class="m-split" datetime='2018-06-11T21:20:35&#43;00:00' data-updated="true">Updated:
							Jun 11th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
								<p>One of my projects called <code>pdnsapp</code> is a <a href="https://www.python.org/">Python</a> based microframework aimed to help develop DNS based applications, very much like <a href="http://flask.pocoo.org">Flask</a> or <a href="http://bottlepy.org/">Bottle</a> do for HTTP or like <a href="http://lamsonproject.org/">Lamson</a> does with SMTP. Like most of the frameworks of this kind it needs an &lsquo;application server&rsquo; to run. This server for <code>pdnsapp</code> is currently <a href="http://www.powerdns.com/">PowerDNS</a>. For basic functionality it has no dependencies other than the Python standard libraries.</p>
								<a href="/blog/ebp005_the-pdnsapp-part1.html.html" class="more-link">Read more &rarr;</a>
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp004_thoughts-on-everyday-endianness.html">Thoughts on everyday endiannes</a></h2>							
							<span class="a-meta">
								<a class="category-half-baked-ideas" href="/categories/half-baked-ideas/">Half Baked Ideas</a>
							</span>
							<span class="m-split">
								<a class="tag-endianness" href="/tags/endianness/">#endianness</a>
							</span>
							
							<time class="m-split" datetime='2018-06-13T08:54:12&#43;00:00' data-updated="true">Updated:
							Jun 13th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
							<a class="index-image" href="/blog/ebp004_thoughts-on-everyday-endianness.html">
								<img src="p/ebp004/oh-god.png" class="alignright" alt="Thoughts on everyday endiannes"/>
							</a>
								<p>Just a quick note on 11/11/11: I&rsquo;d like to express how awesome big-endian is in all aspects of life. In Hungary we use big-endian for pretty much everything (very much like Japan), eg. representing dates, family and given names and addresses.</p>
								<a href="/blog/ebp004_thoughts-on-everyday-endianness.html" class="more-link">Read more &rarr;</a>
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp006_nginx-as-a-general-purpose-tcp-proxy.html">Nginx as a general purpose TCP proxy</a></h2>							
							<span class="a-meta">
								<a class="category-proof-of-concept" href="/categories/proof-of-concept/">Proof of Concept</a>
							</span>
							<span class="m-split">
								<a class="tag-nginx" href="/tags/nginx/">#nginx</a>
							</span>
							
							<time class="m-split" datetime='2018-06-11T21:20:35&#43;00:00' data-updated="true">Updated:
							Jun 11th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
								Nginx is well known for its powerful HTTP reverse-proxy features. Altough Nginx does its job well in pretty lot of situations, there are always a need for a general TCP proxy stuff. Sadly this feature does not come boundled in with the stock Nginx.
This is where 3rd party patches come in. There are quite some great patches out there, in this post I will write about nginx_tcp_proxy_module made by Weibin Yao from China (he has 13 different promising patches and modules for nginx, definitely worth a check).
								<a href="/blog/ebp006_nginx-as-a-general-purpose-tcp-proxy.html" class="more-link">Read more &rarr;</a>
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp003_thoughts-on-ipv6-reverse-dns-address-mapping-for-the-masses.html.html">Thoughts on IPv6 Reverse DNS Address Mapping for the masses</a></h2>							
							<span class="a-meta">
								<a class="category-half-baked-ideas" href="/categories/half-baked-ideas/">Half Baked Ideas</a>
							</span>
							<span class="m-split">
								<a class="tag-dns" href="/tags/dns/">#dns</a>
							</span>
							
							<time class="m-split" datetime='2018-06-11T21:20:35&#43;00:00' data-updated="true">Updated:
							Jun 11th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
								<p>Reverse DNS records are good for you. Especially if you run your own SMTP MTAs. Without proper reverse-forward DNS record mapping, some nice anomalies may appear for you. You may have faced the fact some other MTAs shut down your incoming connection for no particular reason. OpenSSH daemon also has the option to check if your forward and reverse DNS entries match. Also, being on IRC with only an IP address is so 90&rsquo;s ;)</p>
								<a href="/blog/ebp003_thoughts-on-ipv6-reverse-dns-address-mapping-for-the-masses.html.html" class="more-link">Read more &rarr;</a>
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp002_nginx-altroot-with-conditional-autoindex.html">Nginx Alternative Root With Conditional Autoindexing</a></h2>							
							<span class="a-meta">
								<a class="category-proof-of-concept" href="/categories/proof-of-concept/">Proof of Concept</a>
							</span>
							<span class="m-split">
								<a class="tag-nginx" href="/tags/nginx/">#nginx</a>
							</span>
							
							<time class="m-split" datetime='2018-06-11T21:20:35&#43;00:00' data-updated="true">Updated:
							Jun 11th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
								<p>Recently I have developed the following Nginx setup to make my virtual host instance more advanced. It has the following features:</p>
<ul>
<li>The blog root directory served from a completely different directory than the regular <code>htdocs</code> root. Blog content has preference over the other files, so if the requested file is not found in the blog root, it falls back to the regular root.</li>
<li>There is a feature for conditional autoindexing (I don&rsquo;t like to expse my files by default): if I put a <code>.index</code> file into a directory, it will be publicly autoindexed, otherwise Nginx returns a 404 error (as instead on the default 403).</li>
<li>Handles <code>error_page</code> idoms well.</li>
</ul>
								<a href="/blog/ebp002_nginx-altroot-with-conditional-autoindex.html" class="more-link">Read more &rarr;</a>
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />					<article class="post-content">
						
						<h2 class="post-title"><a href="/blog/ebp001_wifi-ethernet-bonding.html">WiFi + Ethernet bonding</a></h2>							
							<span class="a-meta">
								<a class="category-proof-of-concept" href="/categories/proof-of-concept/">Proof of Concept</a>
							</span>
							<span class="m-split">
								<a class="tag-networking" href="/tags/networking/">#networking</a>
							</span>
							<span class="m-split">
								Read in <a href="/hu/blog/ebp001_wifi-es-ethernet-bondingja.html">hu</a>
							</span>
							
							<time class="m-split" datetime='2018-09-06T08:08:29&#43;00:00' data-updated="true">Updated:
							Sep 6th, 2018
</time>


						<div class="post-content">
							<div class="entry-content">
							<a class="index-image" href="/blog/ebp001_wifi-ethernet-bonding.html">
								<img src="p/ebp001/wifiethernet4.png" class="alignright" style="width: 20%" alt="WiFi &#43; Ethernet bonding"/>
							</a>
								<p>When I&rsquo;m at home, I <em>dislike</em> undocking my laptop to move around the house because of the Ethernet-to-WiFi switchover takes long seconds and all my TCP sessions like SSH get lost. It&rsquo;s because my laptop is assigned a different IP address on WiFi and on the wired network even if they belong to the same VLAN. Well, it looks like this is not the case any more.</p>
								<a href="/blog/ebp001_wifi-ethernet-bonding.html" class="more-link">Read more &rarr;</a>
							</div>
							<div style="clear: both"></div>
						</div>
					</article>

					<hr />
				</div>


			</section>
		</main>
		<footer id="footer" class="inner">
			<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="images/cc-by-sa-4-0.png" /></a><br />Website contents are licensed under the <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a> unless stated otherwise.
		</footer>
		
		

	</body>
</html>
